<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#">
<head >
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1">

  
  <title>Sharing knowledge</title>


  <meta name="description" content="">
  <meta name="keywords" content="">

  <meta name="author" content="Oleg Atamanenko">


  <link rel="stylesheet" media="screen" href="https://fontlibrary.org/face/go-mono" type="text/css"/>



  
  
  <link rel="stylesheet" href="https://uthark.github.io/css/uthark.css">

  
  


  
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">


  
  <link href="https://uthark.github.io/favicon.png" rel="icon">

  
  
  


  


  
  <link href="https://feeds.feedburner.com/atamanenko" rel="alternate" type="application/rss+xml" title="Sharing knowledge" />
  

  


</head>
<body>


<header>  
  <h1><a href="https://uthark.github.io/">Sharing knowledge</a></h1>
    
</header>


<nav>

<ul class="main-navigation">
  
  
    
      <li><a href="https://uthark.github.io/" title="Blog">Blog</a></li>
    
  
    
      <li><a href="https://uthark.github.io/readinglist/" title="Reading Lists" >Reading Lists</a></li>
    
  
    
      <li><a href="https://uthark.github.io/categories/" title="Categories" >Categories</a></li>
    
  
    
      <li><a href="https://uthark.github.io/about/" title="About" >About</a></li>
    
  
</ul>


<ul class="subscription">
  
    
        
        
        <li><a href="https://feeds.feedburner.com/atamanenko" target="_blank" type="application/rss+xml" title="RSS"><i class="fa fa-rss-square fa-lg"></i></a></li>
        

    
  

</ul>


<form action="https://www.google.com/search" method="get" target="_blank">
  <fieldset role="search">
  	<input class="search" type="text" name="q" placeholder="Search"/>
    <input type="hidden" name="q" value="site:https://uthark.github.io/" />
  </fieldset>
</form>

</nav>


<div id="main">
 <div id="content">
  <div class="blog-index">
    
    
    <article>

        
        
<div class="sharing">
    <a href="https://getpocket.com/save?url=https%3a%2f%2futhark.github.io%2fpost%2f2018-01-22-go-restful-yaml%2f" target="_blank" ><i class="fa fa-get-pocket" title="Save to Pocket" aria-hidden="true"></i></a>
    <a href="https://twitter.com/intent/tweet?text=How%20to%20add%20YAML%20support%20to%20go-restful&url=https%3a%2f%2futhark.github.io%2fpost%2f2018-01-22-go-restful-yaml%2f" target="_blank" title="Post to Twitter" aria-hidden="true"><i class="fa fa-twitter"></i></a>
</div>
<header>
    <h1 class="entry-title">
        <a href="https://uthark.github.io/post/2018-01-22-go-restful-yaml/">How to add YAML support to go-restful</a>
    </h1>

</header>


        
        <p><a href="https://github.com/emicklei/go-restful" target="_blank">go-restful</a> is a <a href="https://golang.org" target="_blank">go</a> package used for building REST-style web services.
It is very powerful, but it supports JSON and XML out of the box only. Fortunately, go-restful allows to register custom serialization schemes.</p>

<p>To do so, it provides a handy interface <a href="https://godoc.org/github.com/emicklei/go-restful#EntityReaderWriter" target="_blank">EntityReaderWriter</a>, which contains only two methods:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#75715e">// EntityReaderWriter can read and write values using an encoding such as JSON,XML.
</span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">EntityReaderWriter</span> <span style="color:#66d9ef">interface</span> {
    <span style="color:#75715e">// Read a serialized version of the value from the request.
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// The Request may have a decompressing reader. Depends on Content-Encoding.
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">Read</span>(<span style="color:#a6e22e">req</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Request</span>, <span style="color:#a6e22e">v</span> <span style="color:#66d9ef">interface</span>{}) <span style="color:#66d9ef">error</span>

    <span style="color:#75715e">// Write a serialized version of the value on the response.
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// The Response may have a compressing writer. Depends on Accept-Encoding.
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// status should be a valid Http Status code
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">Write</span>(<span style="color:#a6e22e">resp</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Response</span>, <span style="color:#a6e22e">status</span> <span style="color:#66d9ef">int</span>, <span style="color:#a6e22e">v</span> <span style="color:#66d9ef">interface</span>{}) <span style="color:#66d9ef">error</span>
}</code></pre></div>
<p>What we need to do is to implement this interface and register it in go-restful.</p>

<p>Let’s implement the interface:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">restyaml</span>

<span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;io&#34;</span>
	<span style="color:#e6db74">&#34;io/ioutil&#34;</span>

	<span style="color:#e6db74">&#34;github.com/emicklei/go-restful&#34;</span>
	<span style="color:#e6db74">&#34;gopkg.in/yaml.v2&#34;</span>
)

<span style="color:#75715e">// MediaTypeApplicationYaml is a Mime Type for YAML.
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">MediaTypeApplicationYaml</span> = <span style="color:#e6db74">&#34;application/x-yaml&#34;</span>

<span style="color:#75715e">// YamlReaderWriter implements EntityReaderWriter for YAML objects to be used by restful.
</span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">YamlReaderWriter</span> <span style="color:#66d9ef">struct</span> {
	<span style="color:#a6e22e">contentType</span> <span style="color:#66d9ef">string</span>
}

<span style="color:#75715e">// NewYamlReaderWriter creates new instance.
</span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">NewYamlReaderWriter</span>(<span style="color:#a6e22e">contentType</span> <span style="color:#66d9ef">string</span>) <span style="color:#a6e22e">restful</span>.<span style="color:#a6e22e">EntityReaderWriter</span> {
	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">YamlReaderWriter</span>{<span style="color:#a6e22e">contentType</span>: <span style="color:#a6e22e">contentType</span>}
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">closeWithErrHandle</span>(<span style="color:#a6e22e">c</span> <span style="color:#a6e22e">io</span>.<span style="color:#a6e22e">Closer</span>) {
	<span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Close</span>()
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
		<span style="color:#a6e22e">logger</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;Unable to close resource: &#34;</span>, <span style="color:#a6e22e">err</span>)
	}
}

<span style="color:#75715e">// Read a serialized version of the value from the request.
</span><span style="color:#75715e">// The Request may have a decompressing reader. Depends on Content-Encoding.
</span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">e</span> <span style="color:#a6e22e">YamlReaderWriter</span>) <span style="color:#a6e22e">Read</span>(<span style="color:#a6e22e">req</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">restful</span>.<span style="color:#a6e22e">Request</span>, <span style="color:#a6e22e">v</span> <span style="color:#66d9ef">interface</span>{}) <span style="color:#66d9ef">error</span> {
	<span style="color:#66d9ef">defer</span> <span style="color:#a6e22e">closeWithErrHandle</span>(<span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">Request</span>.<span style="color:#a6e22e">Body</span>)
	<span style="color:#a6e22e">bytes</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">ioutil</span>.<span style="color:#a6e22e">ReadAll</span>(<span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">Request</span>.<span style="color:#a6e22e">Body</span>)
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
		<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">err</span>
	}
	<span style="color:#a6e22e">err</span> = <span style="color:#a6e22e">yaml</span>.<span style="color:#a6e22e">Unmarshal</span>(<span style="color:#a6e22e">bytes</span>, <span style="color:#a6e22e">v</span>)
	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">err</span>
}

<span style="color:#75715e">// Write a serialized version of the value on the response.
</span><span style="color:#75715e">// The Response may have a compressing writer. Depends on Accept-Encoding.
</span><span style="color:#75715e">// status should be a valid Http Status code
</span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">e</span> <span style="color:#a6e22e">YamlReaderWriter</span>) <span style="color:#a6e22e">Write</span>(<span style="color:#a6e22e">resp</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">restful</span>.<span style="color:#a6e22e">Response</span>, <span style="color:#a6e22e">status</span> <span style="color:#66d9ef">int</span>, <span style="color:#a6e22e">v</span> <span style="color:#66d9ef">interface</span>{}) <span style="color:#66d9ef">error</span> {
	<span style="color:#a6e22e">bytes</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">yaml</span>.<span style="color:#a6e22e">Marshal</span>(<span style="color:#a6e22e">v</span>)
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
		<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">err</span>
	}

	<span style="color:#a6e22e">resp</span>.<span style="color:#a6e22e">WriteHeader</span>(<span style="color:#a6e22e">status</span>)
	<span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">err</span> = <span style="color:#a6e22e">resp</span>.<span style="color:#a6e22e">Write</span>(<span style="color:#a6e22e">bytes</span>)
	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">err</span>
}</code></pre></div>
<p>For implementing actual reading/writing of YAML I use library called <a href="https://github.com/go-yaml/yaml" target="_blank">go-yaml</a>. The implementation is straightforward, just call <a href="https://godoc.org/gopkg.in/yaml.v2#Marshal" target="_blank"><code>Marshal</code></a> and <a href="https://godoc.org/gopkg.in/yaml.v2#Unmarshal" target="_blank"><code>Unmarshal</code></a> methods and do an error processing.</p>

<p>The final step is to register newly written <code>YamlReaderWriter</code> in go-restful container during application startup.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">rest</span>

<span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;context&#34;</span>
	<span style="color:#e6db74">&#34;fmt&#34;</span>
	<span style="color:#e6db74">&#34;net/http&#34;</span>
	<span style="color:#e6db74">&#34;os&#34;</span>
	<span style="color:#e6db74">&#34;os/signal&#34;</span>
	<span style="color:#e6db74">&#34;strconv&#34;</span>
	<span style="color:#e6db74">&#34;syscall&#34;</span>
	<span style="color:#e6db74">&#34;time&#34;</span>

	<span style="color:#e6db74">&#34;bitbucket.org/uthark/yttrium/internal/config&#34;</span>
	<span style="color:#e6db74">&#34;bitbucket.org/uthark/yttrium/internal/mime&#34;</span>
	<span style="color:#e6db74">&#34;github.com/emicklei/go-restful&#34;</span>
)

<span style="color:#75715e">// Init initializes server.
</span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">init</span>() {

	<span style="color:#a6e22e">restful</span>.<span style="color:#a6e22e">SetLogger</span>(<span style="color:#a6e22e">logger</span>)
	<span style="color:#a6e22e">restful</span>.<span style="color:#a6e22e">DefaultResponseContentType</span>(<span style="color:#a6e22e">restful</span>.<span style="color:#a6e22e">MIME_JSON</span>)
	<span style="color:#a6e22e">restful</span>.<span style="color:#a6e22e">RegisterEntityAccessor</span>(<span style="color:#a6e22e">restyaml</span>.<span style="color:#a6e22e">MediaTypeApplicationYaml</span>, <span style="color:#a6e22e">restyaml</span>.<span style="color:#a6e22e">NewYamlReaderWriter</span>(<span style="color:#a6e22e">restyaml</span>.<span style="color:#a6e22e">MediaTypeApplicationYaml</span>))

	<span style="color:#75715e">// register web-services in restful and start http…
</span><span style="color:#75715e"></span>	<span style="color:#75715e">// omitted for brevity
</span><span style="color:#75715e"></span>}</code></pre></div>
<p>Now, we can submit requests in YAML format to our API:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ curl -H <span style="color:#e6db74">&#34;Accept: application/x-yaml&#34;</span> http://localhost:8080/task
- id: dd453ac9-6e8d-4f37-88a9-4e6d5b653e8d
  name: Another Task
  dateAdded: <span style="color:#ae81ff">2018</span>-01-20T20:05:09.378Z
  dateCompleted: <span style="color:#ae81ff">0001</span>-01-01T00:00:00Z</code></pre></div>
<p>If we don’t specify header, the output will be in JSON:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ curl http://localhost:8080/task
<span style="color:#f92672">[</span>
  <span style="color:#f92672">{</span>
   <span style="color:#e6db74">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;dd453ac9-6e8d-4f37-88a9-4e6d5b653e8d&#34;</span>,
   <span style="color:#e6db74">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;Another Task&#34;</span>,
   <span style="color:#e6db74">&#34;dateAdded&#34;</span>: <span style="color:#e6db74">&#34;2018-01-20T20:05:09.378Z&#34;</span>,
   <span style="color:#e6db74">&#34;dateCompleted&#34;</span>: <span style="color:#e6db74">&#34;0001-01-01T00:00:00Z&#34;</span>
  <span style="color:#f92672">}</span>
 <span style="color:#f92672">]</span></code></pre></div>
<p>If you have any questions, feel free to ping me on Twitter.</p>

        

    </article>
    
    <article>

        
        
<div class="sharing">
    <a href="https://getpocket.com/save?url=https%3a%2f%2futhark.github.io%2f2017%2f11%2f21%2fmigrate-to-hugo%2f" target="_blank" ><i class="fa fa-get-pocket" title="Save to Pocket" aria-hidden="true"></i></a>
    <a href="https://twitter.com/intent/tweet?text=Migration%20to%20hugo%20completed&url=https%3a%2f%2futhark.github.io%2f2017%2f11%2f21%2fmigrate-to-hugo%2f" target="_blank" title="Post to Twitter" aria-hidden="true"><i class="fa fa-twitter"></i></a>
</div>
<header>
    <h1 class="entry-title">
        <a href="https://uthark.github.io/2017/11/21/migrate-to-hugo/">Migration to hugo completed</a>
    </h1>

</header>


        
        <p>Good news, everyone. Migration from octopress to <a href="https://gohugo.io/" target="_blank">hugo</a> was completed. If you find any broken  layout and/or links, please contact me.</p>

        

    </article>
    
    <article>

        
        
<div class="sharing">
    <a href="https://getpocket.com/save?url=https%3a%2f%2futhark.github.io%2f2017%2f10%2f12%2falive%2f" target="_blank" ><i class="fa fa-get-pocket" title="Save to Pocket" aria-hidden="true"></i></a>
    <a href="https://twitter.com/intent/tweet?text=Refresh&url=https%3a%2f%2futhark.github.io%2f2017%2f10%2f12%2falive%2f" target="_blank" title="Post to Twitter" aria-hidden="true"><i class="fa fa-twitter"></i></a>
</div>
<header>
    <h1 class="entry-title">
        <a href="https://uthark.github.io/2017/10/12/alive/">Refresh</a>
    </h1>

</header>


        
        <p>Ok, hopefully I will start blog again soon.</p>

        

    </article>
    
    <article>

        
        
<div class="sharing">
    <a href="https://getpocket.com/save?url=https%3a%2f%2futhark.github.io%2f2014%2f04%2f23%2fpocket-is-down%2f" target="_blank" ><i class="fa fa-get-pocket" title="Save to Pocket" aria-hidden="true"></i></a>
    <a href="https://twitter.com/intent/tweet?text=Pocket%20is%20down&url=https%3a%2f%2futhark.github.io%2f2014%2f04%2f23%2fpocket-is-down%2f" target="_blank" title="Post to Twitter" aria-hidden="true"><i class="fa fa-twitter"></i></a>
</div>
<header>
    <h1 class="entry-title">
        <a href="https://uthark.github.io/2014/04/23/pocket-is-down/">Pocket is down</a>
    </h1>

</header>


        
        <p>Hi. <a href="https://twitter.com/Pocket/status/458989752432091136" target="_blank">Pocket is down</a> so it means there is no reading list for today. Everyone have a nice day.</p>

        

    </article>
    
    <article>

        
        
<div class="sharing">
    <a href="https://getpocket.com/save?url=https%3a%2f%2futhark.github.io%2f2014%2f04%2f16%2fusing-unitils-reflectionassert%2f" target="_blank" ><i class="fa fa-get-pocket" title="Save to Pocket" aria-hidden="true"></i></a>
    <a href="https://twitter.com/intent/tweet?text=Using%20Unitils%20ReflectionAssert&url=https%3a%2f%2futhark.github.io%2f2014%2f04%2f16%2fusing-unitils-reflectionassert%2f" target="_blank" title="Post to Twitter" aria-hidden="true"><i class="fa fa-twitter"></i></a>
</div>
<header>
    <h1 class="entry-title">
        <a href="https://uthark.github.io/2014/04/16/using-unitils-reflectionassert/">Using Unitils ReflectionAssert</a>
    </h1>

</header>


        
        <p>Often it is needed to compare two different instances of the class inside test. I.e. we save object into database, then fetch it back from db and we want to be sure if nothing was lost during saving/reading.</p>

<p>In order to make such assertions more easier and maintainable one can use great Unitils library which has useful class <a href="http://www.unitils.org/tutorial-reflectionassert.html" target="_blank">ReflectionAssert</a></p>

<p>First, update parent&rsquo;s <code>pom.xml</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;properties&gt;</span>
    <span style="color:#f92672">&lt;unitils.version&gt;</span>3.4<span style="color:#f92672">&lt;/unitils.version&gt;</span>
<span style="color:#f92672">&lt;/properties&gt;</span>
<span style="color:#f92672">&lt;dependency&gt;</span>
    <span style="color:#f92672">&lt;groupId&gt;</span>org.unitils<span style="color:#f92672">&lt;/groupId&gt;</span>
    <span style="color:#f92672">&lt;artifactId&gt;</span>unitils-core<span style="color:#f92672">&lt;/artifactId&gt;</span>
    <span style="color:#f92672">&lt;version&gt;</span>${unitils.version}<span style="color:#f92672">&lt;/version&gt;</span>
    <span style="color:#f92672">&lt;scope&gt;</span>test<span style="color:#f92672">&lt;/scope&gt;</span>
<span style="color:#f92672">&lt;/dependency&gt;</span></code></pre></div>
<p>Then add dependency to the child module:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;dependency&gt;</span>
    <span style="color:#f92672">&lt;groupId&gt;</span>org.unitils<span style="color:#f92672">&lt;/groupId&gt;</span>
    <span style="color:#f92672">&lt;artifactId&gt;</span>unitils-core<span style="color:#f92672">&lt;/artifactId&gt;</span>
<span style="color:#f92672">&lt;/dependency&gt;</span></code></pre></div>
<p>Usage is very simple:
Add static import to the class.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">import static</span> org.unitils.reflectionassert.ReflectionAssert.assertReflectionEquals<span style="color:#f92672">;</span></code></pre></div>
<p>and use it instead of regular JUnit assert:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">assertReflectionEquals<span style="color:#f92672">(</span>expected<span style="color:#f92672">,</span> actual<span style="color:#f92672">);</span></code></pre></div>
<p>It is possible to pass reflection comparator modes as optional parameters to the above method.</p>

<p>Be ware that this method is not very useful if you want to compare objects which has floating point or double parameters - ReflectionAssert compares <code>double</code> and <code>float</code> values using <code>==</code>, so it is not very useful. It is not possible to pass epsilon for comparison.</p>

<p>excerpt from <code>org.unitils.reflectionassert.comparator.impl.LenientNumberComparator#compare</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Double leftDouble <span style="color:#f92672">=</span> getDoubleValue<span style="color:#f92672">(</span>left<span style="color:#f92672">);</span>
Double rightDouble <span style="color:#f92672">=</span> getDoubleValue<span style="color:#f92672">(</span>right<span style="color:#f92672">);</span>
<span style="color:#66d9ef">if</span> <span style="color:#f92672">(!</span>leftDouble<span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>rightDouble<span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Difference<span style="color:#f92672">(</span>differenceMessage<span style="color:#f92672">,</span> left<span style="color:#f92672">,</span> right<span style="color:#f92672">);</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>If you need to compare double values in JUnit assertions then it is better to use <a href="https://code.google.com/p/hamcrest/" target="_blank">hamcrest library</a>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">import static</span> org.hamcrest.number.IsCloseTo.closeTo<span style="color:#f92672">;</span>
<span style="color:#f92672">import static</span> org.junit.Assert.assertThat<span style="color:#f92672">;</span>

<span style="color:#75715e">// in @Test method:
</span><span style="color:#75715e"></span>assertThat<span style="color:#f92672">(</span>actual<span style="color:#f92672">.</span><span style="color:#a6e22e">getFederalIncomeTax</span><span style="color:#f92672">(),</span> closeTo<span style="color:#f92672">(</span>expected<span style="color:#f92672">.</span><span style="color:#a6e22e">getFederalIncomeTax</span><span style="color:#f92672">(),</span> EPSILON<span style="color:#f92672">))</span></code></pre></div>
<p>Happy hacking!</p>

        

    </article>
    
    <article>

        
        
<div class="sharing">
    <a href="https://getpocket.com/save?url=https%3a%2f%2futhark.github.io%2f2014%2f04%2f15%2fusing-assertj%2f" target="_blank" ><i class="fa fa-get-pocket" title="Save to Pocket" aria-hidden="true"></i></a>
    <a href="https://twitter.com/intent/tweet?text=Using%20AssertJ&url=https%3a%2f%2futhark.github.io%2f2014%2f04%2f15%2fusing-assertj%2f" target="_blank" title="Post to Twitter" aria-hidden="true"><i class="fa fa-twitter"></i></a>
</div>
<header>
    <h1 class="entry-title">
        <a href="https://uthark.github.io/2014/04/15/using-assertj/">Using AssertJ</a>
    </h1>

</header>


        
        <p><a href="https://github.com/joel-costigliola/assertj-core" target="_blank">AssertJ</a> is a library which provides fluent strongly-typed assertions to use in unit tests.</p>

<p>Example of assertions written with <code>AssertJ</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">import</span> io.github.uthark.blog.assertj.Assertions.assertThat<span style="color:#f92672">;</span>

<span style="color:#75715e">// ... within @Test
</span><span style="color:#75715e"></span>User result <span style="color:#f92672">=</span> userDao<span style="color:#f92672">.</span><span style="color:#a6e22e">findByLogin</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;username&#34;</span><span style="color:#f92672">);</span>
assertThat<span style="color:#f92672">(</span>result<span style="color:#f92672">).</span>
    isNotNull<span style="color:#f92672">().</span>
    isActive<span style="color:#f92672">().</span>
    hasLogin<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;username&#34;</span><span style="color:#f92672">);</span></code></pre></div>
<p>As you can see assertions look much more readable.
The integration of assertj into Maven project is very easy:</p>

<ol>
<li>Update pom.xml in parent module</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;properties&gt;</span>
    <span style="color:#f92672">&lt;assertj-core.version&gt;</span>1.6.0<span style="color:#f92672">&lt;/assertj-core.version&gt;</span>
    <span style="color:#f92672">&lt;assertj-assertions-generator-maven-plugin.version&gt;</span>1.2.0<span style="color:#f92672">&lt;/assertj-assertions-generator-maven-plugin.version&gt;</span>
<span style="color:#f92672">&lt;/properties&gt;</span>

<span style="color:#f92672">&lt;dependencyManagement&gt;</span>
    <span style="color:#f92672">&lt;dependency&gt;</span>
        <span style="color:#f92672">&lt;groupId&gt;</span>org.assertj<span style="color:#f92672">&lt;/groupId&gt;</span>
        <span style="color:#f92672">&lt;artifactId&gt;</span>assertj-core<span style="color:#f92672">&lt;/artifactId&gt;</span>
        <span style="color:#f92672">&lt;version&gt;</span>${assertj-core.version}<span style="color:#f92672">&lt;/version&gt;</span>
        <span style="color:#f92672">&lt;scope&gt;</span>test<span style="color:#f92672">&lt;/scope&gt;</span>
    <span style="color:#f92672">&lt;/dependency&gt;</span>
<span style="color:#f92672">&lt;/dependencyManagement&gt;</span>

<span style="color:#f92672">&lt;pluginManagement&gt;</span>
    <span style="color:#f92672">&lt;plugin&gt;</span>
        <span style="color:#f92672">&lt;groupId&gt;</span>org.assertj<span style="color:#f92672">&lt;/groupId&gt;</span>
        <span style="color:#f92672">&lt;artifactId&gt;</span>assertj-assertions-generator-maven-plugin<span style="color:#f92672">&lt;/artifactId&gt;</span>
        <span style="color:#f92672">&lt;version&gt;</span>${assertj-assertions-generator-maven-plugin.version}<span style="color:#f92672">&lt;/version&gt;</span>
        <span style="color:#f92672">&lt;executions&gt;</span>
            <span style="color:#f92672">&lt;execution&gt;</span>
                <span style="color:#f92672">&lt;id&gt;</span>generate-assertions<span style="color:#f92672">&lt;/id&gt;</span>
                <span style="color:#f92672">&lt;phase&gt;</span>generate-test-sources<span style="color:#f92672">&lt;/phase&gt;</span>
                <span style="color:#f92672">&lt;goals&gt;</span>
                    <span style="color:#f92672">&lt;goal&gt;</span>generate-assertions<span style="color:#f92672">&lt;/goal&gt;</span>
                <span style="color:#f92672">&lt;/goals&gt;</span>
            <span style="color:#f92672">&lt;/execution&gt;</span>
        <span style="color:#f92672">&lt;/executions&gt;</span>
    <span style="color:#f92672">&lt;/plugin&gt;</span>

<span style="color:#f92672">&lt;/pluginManagement&gt;</span></code></pre></div>
<ol>
<li>Update pom.xml in child module</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;dependencies&gt;</span>
    <span style="color:#f92672">&lt;dependency&gt;</span>
        <span style="color:#f92672">&lt;groupId&gt;</span>org.assertj<span style="color:#f92672">&lt;/groupId&gt;</span>
        <span style="color:#f92672">&lt;artifactId&gt;</span>assertj-core<span style="color:#f92672">&lt;/artifactId&gt;</span>
    <span style="color:#f92672">&lt;/dependency&gt;</span>
<span style="color:#f92672">&lt;/dependencies&gt;</span>
<span style="color:#f92672">&lt;build&gt;</span>
    <span style="color:#f92672">&lt;plugins&gt;</span>
        <span style="color:#f92672">&lt;plugin&gt;</span>
            <span style="color:#f92672">&lt;groupId&gt;</span>org.assertj<span style="color:#f92672">&lt;/groupId&gt;</span>
            <span style="color:#f92672">&lt;artifactId&gt;</span>assertj-assertions-generator-maven-plugin<span style="color:#f92672">&lt;/artifactId&gt;</span>
            <span style="color:#f92672">&lt;configuration&gt;</span>
                <span style="color:#75715e">&lt;!-- you can define collection packages: --&gt;</span>
                <span style="color:#f92672">&lt;packages&gt;</span>
                    <span style="color:#f92672">&lt;param&gt;</span>io.github.uthark.blog.assertj<span style="color:#f92672">&lt;/param&gt;</span>
                <span style="color:#f92672">&lt;/packages&gt;</span>

                <span style="color:#75715e">&lt;!-- Or specify classes one by one. --&gt;</span>
                <span style="color:#f92672">&lt;classes&gt;</span>
                    <span style="color:#f92672">&lt;param&gt;</span>io.github.uthark.blog.assertj.User<span style="color:#f92672">&lt;/param&gt;</span>
                <span style="color:#f92672">&lt;/classes&gt;</span>
            <span style="color:#f92672">&lt;/configuration&gt;</span>
        <span style="color:#f92672">&lt;/plugin&gt;</span>
    <span style="color:#f92672">&lt;/plugins&gt;</span>
<span style="color:#f92672">&lt;/build&gt;</span></code></pre></div>
<p>After this changes it is possible to generate assertions for the classes you want test:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">mvn assertj:generate-assertions</code></pre></div>
<p>By default assertj will generate assertion classes in <code>target/generated-test-sources/assertj-assertions/</code>, it is possible to override this behaviour by passing configuration element <code>targetDir</code> to plugin.</p>

<p>Additonal documentation for Maven plugin can be <a href="http://joel-costigliola.github.io/assertj/assertj-assertions-generator-maven-plugin.html" target="_blank">found here</a></p>

<p>Happy hacking!</p>

        

    </article>
    
    <article>

        
        
<div class="sharing">
    <a href="https://getpocket.com/save?url=https%3a%2f%2futhark.github.io%2f2014%2f03%2f28%2finitializing-at-mocks-with-junit-at-rule%2f" target="_blank" ><i class="fa fa-get-pocket" title="Save to Pocket" aria-hidden="true"></i></a>
    <a href="https://twitter.com/intent/tweet?text=Initializing%20Mockito%20%40Mocks%20with%20JUnit%20%40Rule&url=https%3a%2f%2futhark.github.io%2f2014%2f03%2f28%2finitializing-at-mocks-with-junit-at-rule%2f" target="_blank" title="Post to Twitter" aria-hidden="true"><i class="fa fa-twitter"></i></a>
</div>
<header>
    <h1 class="entry-title">
        <a href="https://uthark.github.io/2014/03/28/initializing-at-mocks-with-junit-at-rule/">Initializing Mockito @Mocks with JUnit @Rule</a>
    </h1>

</header>


        
        <p>In this post I will show how one can implement custom JUnit <a href="http://junit-team.github.io/junit/javadoc/4.11/org/junit/Rule.html" target="_blank">@Rule</a>.</p>

<p>As an example let&rsquo;s take <a href="https://code.google.com/p/mockito/" target="_blank">Mockito</a> and implement custom rule which will initialize Mocks in  test class.</p>

<p>By default, Mockito provides the following methods of mock initialization:</p>

<ol>
<li><p>Using <a href="http://docs.mockito.googlecode.com/hg/org/mockito/Mockito.html#mock(java.lang.Class)" target="_blank">Mockito.mock</a></p>

<p>Initialize mocks with Mockito.mock:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> FooTest <span style="color:#f92672">{</span>
        
    <span style="color:#66d9ef">private</span> Foo foo<span style="color:#f92672">;</span>

    <span style="color:#a6e22e">@Before</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setUp</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        FooDependency dep <span style="color:#f92672">=</span> Mockito<span style="color:#f92672">.</span><span style="color:#a6e22e">mock</span><span style="color:#f92672">(</span>FooDependency<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">);</span>
        foo <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Foo<span style="color:#f92672">(</span>dep<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>This is the simplest case.</p></li>

<li><p>Using <a href="http://docs.mockito.googlecode.com/hg/org/mockito/MockitoAnnotations.html#initMocks(java.lang.Object)" target="_blank">MockitoAnnotations</a>.
Initialize mocks with MockitoAnnotations:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> FooTest <span style="color:#f92672">{</span>
        
    <span style="color:#66d9ef">private</span> Foo foo<span style="color:#f92672">;</span>

    <span style="color:#a6e22e">@Mock</span>
    <span style="color:#66d9ef">private</span> FooDependency dep<span style="color:#f92672">;</span>

    <span style="color:#a6e22e">@Before</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setUp</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        MockitoAnnotations<span style="color:#f92672">.</span><span style="color:#a6e22e">initMocks</span><span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">);</span>
        foo <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Foo<span style="color:#f92672">(</span>dep<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>This method is useful when you have a lot of mocks to inject.</p></li>

<li><p>Using <a href="http://docs.mockito.googlecode.com/hg/org/mockito/runners/MockitoJUnitRunner.html" target="_blank">MockitoJUnitRunner</a></p>

<p>Initialize mocks with MockitoJUnitRunner:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@RunWith</span><span style="color:#f92672">(</span>MockitoJUnitRunner<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> FooTest <span style="color:#f92672">{</span>
        
    <span style="color:#66d9ef">private</span> Foo foo<span style="color:#f92672">;</span>

    <span style="color:#a6e22e">@Mock</span>
    <span style="color:#66d9ef">private</span> FooDependency dep<span style="color:#f92672">;</span>

    <span style="color:#a6e22e">@Before</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setUp</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        foo <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Foo<span style="color:#f92672">(</span>dep<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div></li>
</ol>

<p>I want to show you another option, by using custom JUnit <code>@Rule</code>.</p>

<p>First, we need to implement <a href="http://junit-team.github.io/junit/javadoc/4.11/org/junit/rules/TestRule.html" target="_blank">TestRule</a> interface which allows to implement custom behaviour during test execution:</p>

<p>MockitoInitializerRule:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MockitoInitializerRule</span> <span style="color:#66d9ef">implements</span> TestRule <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">private</span> Object test<span style="color:#f92672">;</span>

    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">MockitoInitializerRule</span><span style="color:#f92672">(</span>Object test<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">test</span> <span style="color:#f92672">=</span> test<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> Statement <span style="color:#a6e22e">apply</span><span style="color:#f92672">(</span>Statement base<span style="color:#f92672">,</span> Description description<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> MockitInitilizationStatement<span style="color:#f92672">(</span>base<span style="color:#f92672">,</span> test<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>We need to pass current test class instance to the rule, so it will be possible inject mocks into class instance. Actual implementation of our rule will go to new class - subclass of <a href="http://junit-team.github.io/junit/javadoc/4.11/org/junit/runners/model/Statement.html" target="_blank">Statement</a>:</p>

<p>MockitInitilizationStatement:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MockitInitilizationStatement</span> <span style="color:#66d9ef">extends</span> Statement <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> Statement base<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">private</span> Object test<span style="color:#f92672">;</span>

    MockitInitilizationStatement<span style="color:#f92672">(</span>Statement base<span style="color:#f92672">,</span> Object test<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">base</span> <span style="color:#f92672">=</span> base<span style="color:#f92672">;</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">test</span> <span style="color:#f92672">=</span> test<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">evaluate</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">throws</span> Throwable <span style="color:#f92672">{</span>
        MockitoAnnotations<span style="color:#f92672">.</span><span style="color:#a6e22e">initMocks</span><span style="color:#f92672">(</span>test<span style="color:#f92672">);</span>
        base<span style="color:#f92672">.</span><span style="color:#a6e22e">evaluate</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>What we do is basically initialize mocks in the test class and then proceed with the test method execution.</p>

<p>Now, let&rsquo;s take a look at the usage of newly created Rule:</p>

<p>Example usage of MockitoInitializerRule:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> FooTest <span style="color:#f92672">{</span>
    
    <span style="color:#66d9ef">private</span> Foo foo<span style="color:#f92672">;</span>

    <span style="color:#a6e22e">@Mock</span>
    <span style="color:#66d9ef">private</span> FooDependency dep<span style="color:#f92672">;</span>

    <span style="color:#a6e22e">@Rule</span>
    <span style="color:#66d9ef">public</span> TestRule mockitoInitializerRule <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> MockitoInitializerRule<span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">);</span>

    <span style="color:#a6e22e">@Before</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setUp</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        foo <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Foo<span style="color:#f92672">(</span>dep<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>Comparing to variant with <code>MockitoJUnitRunner</code> this one provides ability to use custom <a href="http://junit-team.github.io/junit/javadoc/4.11/org/junit/runner/Runner.html" target="_blank">Runner</a>, i.e. we can continue to use <a href="http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/test/context/junit4/SpringJUnit4ClassRunner.html" target="_blank">SpringJUnit4ClassRunner</a></p>

        

    </article>
    
    
    




<div class="pagination">

    
        
        
        
        <a href="/" aria-label="First" class="label-pagination"><i class="fa fa-angle-double-left fa-lg"></i></a>
    

    

    
        <a href="/" class="label-pagination">1</a>
    
        <a href="/page/2/" class="label-pagination">2</a>
    
        <a href="/page/3/" class="label-pagination">3</a>
    
        <a href="/page/4/" class="label-pagination">4</a>
    
        <a href="/page/5/" class="label-pagination">5</a>
    
        <a href="/page/6/" class="label-pagination">6</a>
    
        <a href="/page/7/" class="label-pagination">7</a>
    
        <a href="/page/8/" class="label-pagination">8</a>
    
        <a href="/page/9/" class="label-pagination">9</a>
    
        <a href="/page/10/" class="label-pagination">10</a>
    
        <a href="/page/11/" class="label-pagination">11</a>
    

    
    
        <a href="/page/2/" aria-label="Next" class="label-pagination"><i class="fa fa-angle-right fa-lg"></i></a>
    

    
    
        <a href="/page/11/" aria-label="Last"><i class="fa fa-angle-double-right fa-lg"></i></a>
    

</div>

  

  </div>

  

<aside class="sidebar thirds">
  <section class="first odd">

    

    <p>
      
    </p>
  </section>






  

  

  
  
  

</aside>
    
 </div>
</div>

<footer>
    
    <div class="center">
        <ul class="sidebar-nav">
            <li class="sidebar-nav-item">
                <a target="_blank" href="https://github.com/uthark/" title="https://github.com/uthark/"><i
                    class="fa fa-github fa-3x"></i></a></li>
            <li class="sidebar-nav-item">    <a target="_blank" href="https://bitbucket.org/uthark/" title="https://bitbucket.org/uthark/"><i
                    class="fa fa-bitbucket fa-3x"></i></a>
            <li class="sidebar-nav-item">
            <li class="sidebar-nav-item"><a target="_blank" href="#ZgotmplZ" title="map[creator:@LinkageError card:summary site:@LinkageError]"><i
                    class="fa fa-twitter fa-3x"></i></a>
            <li class="sidebar-nav-item"><a target="_blank" href="https://keybase.io/uthark/" title="https://keybase.io/uthark/"><i
                    class="fa fa-key fa-3x"></i></a> 
            <li class="sidebar-nav-item">
            <li class="sidebar-nav-item"><a target="_blank" href="http://stackoverflow.com/users/216764/uthark" title="http://stackoverflow.com/users/216764/uthark"><i
                    class="fa fa-stack-overflow fa-3x"></i></a>
            <li class="sidebar-nav-item"><a target="_blank" href="https://plus.google.com/&#43;OlegAtamanenko" title="https://plus.google.com/&#43;OlegAtamanenko"><i
                    class="fa fa-google-plus fa-3x"></i></a>
            <li class="sidebar-nav-item">
            <li class="sidebar-nav-item">
            <li class="sidebar-nav-item">
                
                
            </li>
        </ul>
    </div>
    <p>Copyright &copy; 2009&nbsp;—&nbsp;2018 Oleg Atamanenko - <a href="https://uthark.github.io/license/">License</a> -
        <span class="credit">Powered by <a target="_blank" href="https://gohugo.io">Hugo</a>, uses custom theme based on
            <a target="_blank" href="https://github.com/parsiya/hugo-octopress/">Hugo-Octopress</a> theme.</span>
    </p>

</footer>


<script>
    var _gaq = [['_setAccount', 'UA-8688665-1'], ['_trackPageview']];
    (function (d, t) {
        var g = d.createElement(t), s = d.getElementsByTagName(t)[0];
        s.async = 'async'
        g.src = ('https:' == location.protocol ? '//ssl' : '//www') + '.google-analytics.com/ga.js';
        s.parentNode.insertBefore(g, s)
    }(document, 'script'));
</script>


</body>
</html>
   

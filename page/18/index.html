<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1">

  
  
  <link href="//fonts.googleapis.com/css?family=Anonymous+Pro" rel="stylesheet" type="text/css">
  

  
  <title>Software Development and related activities</title>

  
  
  <link rel="stylesheet" href="https://uthark.github.io/css/hugo-octopress.css">

  
  

  
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">

  
  <link href="https://uthark.github.io/favicon.png" rel="icon">

  
  
  

  <link href="https://uthark.github.io/index.xml" rel="alternate" type="application/rss+xml" title="Software Development and related activities" />

  <meta name="description" content="">
  <meta name="keywords" content="">

  <meta name="author" content="Oleg Atamanenko">

  
  <meta name="generator" content="Hugo 0.31" />

  
  

</head>
<body>


<header role="banner"><hgroup>
  
  <h1><a href="https://uthark.github.io/">Software Development and related activities</a></h1>
    <h2></h2>
</hgroup></header>


<nav role="navigation">

<ul class="main-navigation">
  
  
    
      <li><a href="https://uthark.github.io/" title="Home">Home</a></li>
    
  
    
      <li><a href="https://uthark.github.io/categories/article/" title="Articles" >Articles</a></li>
    
  
    
      <li><a href="https://uthark.github.io/categories/reading-list/" title="Reading List" >Reading List</a></li>
    
  
    
      <li><a href="https://uthark.github.io/about/" title="About me" >About me</a></li>
    
  
</ul>


<ul class="subscription">
  
    
        <a href="https://uthark.github.io/index.xml" target="_blank" type="application/rss+xml" title="RSS"><i class="fa fa-rss-square fa-lg"></i></a>
    
  

</ul>


<form action="https://www.google.com/search" method="get" target="_blank">
  <fieldset role="search">
  	<input class="search" type="text" name="q" results="0" placeholder="Search"/>
    <input type="hidden" name="q" value="site:https://uthark.github.io/" />
  </fieldset>
</form>

</nav>


<div id="main">
 <div id="content">
  <div class="blog-index">
    
    
    <article>

        
        

<header>
    <h1 class="entry-title">
        <a href="https://uthark.github.io/2010/04/11/gorm/">Несколько слов о GORM</a>
    </h1>

</header>


        
        <p>В данной заметке хочу поделиться некоторыми моментами использования GORM.</p>
<p><a href="http://grails.org/doc/latest/guide/5.%20Object%20Relational%20Mapping%20%28GORM%29.html">GORM</a> - это <a href="http://en.wikipedia.org/wiki/Object-relational_mapping">ORM</a>-фреймворк, используемый в <a href="http://grails.org/">Grails</a>. Реализован он поверх <a href="http://hibernate.org/">Hibernate</a>, но, при этом, с некоторыми отличными умолчаниями.</p>
<p>Для разработчиков, знающих <tt>Hibernate</tt>, рекомендую тщательно изучить <tt>GORM</tt>, так как его поведение в некоторых случаях отлично от <tt>Hibernate</tt>, что может приводить к различным сюрпризам.</p>
<h4></h4>
<h4>Маппинг один-ко-многим</h4>
<p>По умолчанию <tt>GORM</tt> для связей <em>один ко многим</em> (one-to-many) <a href="http://www.grails.org/doc/latest/guide/5.%20Object%20Relational%20Mapping%20%28GORM%29.html#5.2.1.2%20One-to-many" title="Grails will, by default, map this kind of relationship with a join table.">создаёт таблицу-связку</a>, которая обычно нужна только при связях между сущностями вида <em>многие ко многим</em>. Чтобы исправить это поведение необходимо указать <tt>GORM</tt>, чтобы он не создавал таблицу связку.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span> <span style="color:#66d9ef">implements</span> Serializable <span style="color:#f92672">{</span>
  <span style="color:#66d9ef">static</span> hasMany <span style="color:#f92672">=</span> <span style="color:#f92672">[</span>
    scores: ScoreSheet
  <span style="color:#f92672">]</span>
  
  <span style="color:#66d9ef">static</span> mapping <span style="color:#f92672">=</span> <span style="color:#f92672">{</span>
    scores joinTable: <span style="color:#66d9ef">false</span>
  <span style="color:#f92672">};</span>
<span style="color:#f92672">}</span></code></pre></div>
<p><h4>Использование однонаправленных связей</h4>
<p>Если в приложении используются двунаправленные связи и вероятность изменения сущности одновременно несколькими пользователями высокая, то лучше использовать однонаправленные связи для сущностей. Кроме того, лучше проектировать доменные классы таким образом, чтобы связь была не один-ко-многим, а многие к одному.</p></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Note</span> <span style="color:#66d9ef">implements</span> Serializable <span style="color:#f92672">{</span>
  <span style="color:#66d9ef">static</span> belongsTo <span style="color:#f92672">=</span> <span style="color:#f92672">[</span>
    person: Person
  <span style="color:#f92672">]</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span> <span style="color:#66d9ef">implements</span> Serializable <span style="color:#f92672">{</span>
  <span style="color:#75715e">// person fields.
</span><span style="color:#75715e"></span><span style="color:#f92672">}</span></code></pre></div>
<p>Для работы с <tt>Notes</tt> необходимо использовать такие запросы: </p>
<pre class="brush: java">
  Note.findByPerson(person).each { -&gt; };
</pre>
<p> вместо </p>
<pre class="brush: java">
  person.notes.each { -&gt; }
</pre>
<h4>Маппинг иерархии классов доменных сущностей</h4>
<p>GORM поддерживает только <a href="http://www.grails.org/doc/latest/guide/5.%20Object%20Relational%20Mapping%20%28GORM%29.html#5.2.3%20Inheritance%20in%20GORM">два варианта </a>маппинга иерархии классов, в отличии от <a href="http://docs.jboss.org/hibernate/stable/core/reference/en/html/inheritance.html">Hibernate</a>: Таблица на всю иерархию (<tt>table-per-hierarchy</tt>), или таблица на каждый подкласс (<tt>table-per-subclass</tt>). У маппинга <tt>table-per-hierarchy</tt> есть серьёзный недостаток - подклассы не могут иметь ненулевые поля. Поэтому, если этот недостаток критичен, то необходимо использовать маппинг <tt>table-per-subclass</tt>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Payment</span> <span style="color:#f92672">{</span>
  Long id
  Long version
  Integer amount

  <span style="color:#66d9ef">static</span> mapping <span style="color:#f92672">=</span> <span style="color:#f92672">{</span>
    tablePerHierarchy <span style="color:#66d9ef">false</span>
  <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CreditCardPayment</span> <span style="color:#66d9ef">extends</span> Payment <span style="color:#f92672">{</span>
  String cardNumber
<span style="color:#f92672">}</span></code></pre></div>
        

    </article>
    
    <article>

        
        

<header>
    <h1 class="entry-title">
        <a href="https://uthark.github.io/2010/03/22/skype-d-bus-python/">Общение со Skype через D-Bus на Python</a>
    </h1>

</header>


        
        <p><b>Summary</b>: в данной заметке описывается работа с программой Skype через D-Bus на Python.</p>

<p><h4>Введение</h4>
<p>Захотелось мне странного - когда я ухожу домой, мне нужно выключить amarok, kopete и Skype. Собственно, решено было через D-Bus отправлять вышеперечисленным приложениям релевантные сообщения.</p></p>

<p><h4>Используем dbus-send</h4>
<p>Сначала я использовал обычный dbus-send, что оформилось в виде следующего скрипта <tt>go2home</tt>:</p></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#!/bin/sh
</span><span style="color:#75715e"></span>
<span style="color:#75715e"># Stop amarok
</span><span style="color:#75715e"></span>dbus-send --session --type<span style="color:#f92672">=</span>method_call --dest<span style="color:#f92672">=</span>org.kde.amarok /Player org.freedesktop.MediaPlayer.Stop

<span style="color:#75715e"># Logout from kopete
</span><span style="color:#75715e"></span>dbus-send --session --type<span style="color:#f92672">=</span>method_call --dest<span style="color:#f92672">=</span>org.kde.kopete /Kopete org.kde.Kopete.disconnectAll 

<span style="color:#75715e"># Logout from Skype
</span><span style="color:#75715e"></span>skypeapi.py <span style="color:#e6db74">&#39;SET USERSTATUS OFFLINE&#39;</span>

<span style="color:#75715e"># Lock screen
</span><span style="color:#75715e"></span>dbus-send --session --type<span style="color:#f92672">=</span>method_call --dest<span style="color:#f92672">=</span>org.freedesktop.ScreenSaver /ScreenSaver org.freedesktop.ScreenSaver.Lock</code></pre></div>
<p>Детали и параметры работы команды <tt>dbus-send</tt> описаны в <a href="http://dbus.freedesktop.org/doc/dbus-send.1.html">man-странице</a></p>

<p><h4>Проблема со скайпом</h4>
<p> Со скайпом пришлось немного повозиться, так как для работы с ним необходима постоянная сессия, что нельзя сделать с помощью <tt>dbus-send</tt>. </p>
<p>Прочитав <a href="https://developer.skype.com/Docs/ApiDoc">описание протокола</a> на сайте </p>
<p> был создан нижеследующий скрипт: skypeapi.py</p></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python"><span style="color:#75715e">#!/usr/bin/env python</span>
<span style="color:#f92672">import</span> dbus<span style="color:#f92672">,</span> sys

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
    remote_bus <span style="color:#f92672">=</span> dbus<span style="color:#f92672">.</span>SessionBus()
    
    <span style="color:#75715e"># Check if skype is running.</span>
    system_service_list <span style="color:#f92672">=</span> remote_bus<span style="color:#f92672">.</span>get_object(<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;org.freedesktop.DBus&#39;</span>, <span style="color:#e6db74"></span><span style="color:#e6db74">&#39;/org/freedesktop/DBus&#39;</span>)<span style="color:#f92672">.</span>ListNames()
    skype_api_found <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
    <span style="color:#66d9ef">for</span> service <span style="color:#f92672">in</span> system_service_list:
        <span style="color:#66d9ef">if</span> service<span style="color:#f92672">==</span><span style="color:#e6db74"></span><span style="color:#e6db74">&#39;com.Skype.API&#39;</span>:
            skype_api_found <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
            <span style="color:#66d9ef">break</span>
    <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> skype_api_found:
        sys<span style="color:#f92672">.</span>exit(<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;No running API-capable Skype found&#39;</span>)

    <span style="color:#75715e"># Get skype dbus api</span>
    skype_service <span style="color:#f92672">=</span> remote_bus<span style="color:#f92672">.</span>get_object(<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;com.Skype.API&#39;</span>, <span style="color:#e6db74"></span><span style="color:#e6db74">&#39;/com/Skype&#39;</span>)

    <span style="color:#75715e"># Connect to skype.</span>
    answer <span style="color:#f92672">=</span> skype_service<span style="color:#f92672">.</span>Invoke(<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;NAME SkypeApiClient&#39;</span>)
    <span style="color:#66d9ef">if</span> answer <span style="color:#f92672">!=</span> <span style="color:#e6db74"></span><span style="color:#e6db74">&#39;OK&#39;</span>:
        sys<span style="color:#f92672">.</span>exit(<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;Could not bind to Skype client&#39;</span>)

    <span style="color:#75715e"># Check if protocol is supported.</span>
    answer <span style="color:#f92672">=</span> skype_service<span style="color:#f92672">.</span>Invoke(<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;PROTOCOL 1&#39;</span>)
    <span style="color:#66d9ef">if</span> answer <span style="color:#f92672">!=</span> <span style="color:#e6db74"></span><span style="color:#e6db74">&#39;PROTOCOL 1&#39;</span>:
        sys<span style="color:#f92672">.</span>exit(<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;This test program only supports Skype API protocol version 1&#39;</span>)

    <span style="color:#75715e"># Invoke operations</span>
    <span style="color:#66d9ef">for</span> arg <span style="color:#f92672">in</span> sys<span style="color:#f92672">.</span>argv:
        skype_service<span style="color:#f92672">.</span>Invoke(arg)
    
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>    

<span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;__main__&#34;</span>:
    main()</code></pre></div>
<p> При первом запуске скрипта появится скайповский диалог с вопросом, можно ли разрешить приложению доступ к скайпу. После нажатия на &quot;Да&quot; Skype добавит наш скрипт в разрешённые и мы сможем управлять скайпом.</p>

<p><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://2.bp.blogspot.com/_y8p0_dtMJ38/S6ev4yVZkJI/AAAAAAAAA9Q/O87mz2Qnku0/s1600-h/skype.png"><img style="display:block; margin:0px auto 10px; text-align:center;cursor:pointer; cursor:hand;width: 376px; height: 185px;" src="http://2.bp.blogspot.com/_y8p0_dtMJ38/S6ev4yVZkJI/AAAAAAAAA9Q/O87mz2Qnku0/s400/skype.png" border="0" alt=""id="BLOGGER_PHOTO_ID_5451519264074338450" /></a></p>

<p>После этого для скрипта <tt>go2home</tt> был создана иконка на панели.</p>

<p><h4>Заключение</h4>
Как видно, работа с DBus из Python проста и элегантна.</p>

<p>В качестве домашнего упражнения предлагаю написать скрипт, который после разблокирования экрана будет запускать все нужные приложения.</p>

        

    </article>
    
    <article>

        
        

<header>
    <h1 class="entry-title">
        <a href="https://uthark.github.io/2010/03/21/tiddlywiki/">Разработка макроса для TiddlyWiki</a>
    </h1>

</header>


        
        <p><b>Summary</b>: Пример разработки плагина для TiddlyWiki</p>
<h4>Вступление</h4>
<p><a href="http://www.tiddlywiki.com/">TiddlyWiki</a> - это вики-движок, полностью написанный на <a href="http://en.wikipedia.org/wiki/JavaScript">JavaScript</a> и хранящийся в одном файле (как сам движок, так и содержимое). Создатели позиционируют его как &quot;переиспользуемую нелинейную персональную веб записную книжку&quot;.</p>
<p>Я давно использую TiddlyWiki в различных целях:</p>
<ol><li>По прямому назначению.</li>
<li>Как систему <a href="http://mgsd.tiddlyspot.com/#mGSD">GTD</a>.</li>
<li>Как домашнюю страницу на компьютере.</li>
</ol>
<p>Моя домашняя страница на компьютере - это, если говорить терминами TiddlyWiki, <a href="http://en.wikipedia.org/wiki/Tiddler">тиддлер</a>, содержащий ссылки на страницы, которые я часто посещаю.</p>
<p>Для удобства использования я разработал пару стилей CSS, так что ссылки были крупными.</p>
<a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://2.bp.blogspot.com/_y8p0_dtMJ38/S6Y0rP2J0eI/AAAAAAAAA9I/xrZhzZf2ad0/s1600-h/tiddly-before.png"><img style="display:block; margin:0px auto 10px; text-align:center;cursor:pointer; cursor:hand;width: 172px; height: 132px;" src="http://2.bp.blogspot.com/_y8p0_dtMJ38/S6Y0rP2J0eI/AAAAAAAAA9I/xrZhzZf2ad0/s400/tiddly-before.png" border="0" alt=""id="BLOGGER_PHOTO_ID_5451102316571251170" /></a>
<h4>Исходный код плагина</h4>
<p>После длительного использования tiddlywiki в качестве домашней страницы я понял, что мне хочется, чтобы с каждой ссылкой была иконка сайта. Вручную вставлять картинки мне не хотелось, поэтому было решено написать собственный плагин.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">/*{{{*/</span>
<span style="color:#a6e22e">version</span>.<span style="color:#a6e22e">extensions</span>.<span style="color:#a6e22e">faviconLinkMacro</span> <span style="color:#f92672">=</span> {<span style="color:#a6e22e">major</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>, <span style="color:#a6e22e">minor</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>, <span style="color:#a6e22e">revision</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>, <span style="color:#a6e22e">date</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">new</span> Date(<span style="color:#ae81ff">2010</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">21</span>)};
<span style="color:#75715e">// Author: Oleg Atamanenko
</span><span style="color:#75715e"></span><span style="color:#a6e22e">config</span>.<span style="color:#a6e22e">macros</span>.<span style="color:#a6e22e">faviconLink</span> <span style="color:#f92672">=</span> {}
<span style="color:#a6e22e">config</span>.<span style="color:#a6e22e">macros</span>.<span style="color:#a6e22e">faviconLink</span>.<span style="color:#a6e22e">handler</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">place</span>, <span style="color:#a6e22e">macroName</span>,  <span style="color:#a6e22e">params</span>, <span style="color:#a6e22e">wikifier</span>, <span style="color:#a6e22e">paramString</span>) {
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">linkBox</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">createTiddlyElement</span>(<span style="color:#a6e22e">place</span>, <span style="color:#e6db74">&#34;span&#34;</span>, <span style="color:#66d9ef">null</span>, <span style="color:#e6db74">&#34;favIcon&#34;</span>, <span style="color:#e6db74">&#34;&#34;</span>);

  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">args</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">paramString</span>.<span style="color:#a6e22e">parseParams</span>(<span style="color:#e6db74">&#34;list&#34;</span>,<span style="color:#66d9ef">null</span>,<span style="color:#66d9ef">true</span>);
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">link</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">getParam</span>(<span style="color:#a6e22e">args</span>, <span style="color:#e6db74">&#34;link&#34;</span>, <span style="color:#e6db74">&#39;false&#39;</span>);

  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">link</span> <span style="color:#f92672">!=</span> <span style="color:#e6db74">&#39;false&#39;</span>){
    <span style="color:#a6e22e">urlParts</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">link</span>.<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#39;/&#39;</span>);
    <span style="color:#a6e22e">imgLink</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">urlParts</span>[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;//&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">urlParts</span>[<span style="color:#ae81ff">2</span>] <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;/favicon.ico&#34;</span>;

    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">imgElement</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">createTiddlyElement</span>(<span style="color:#a6e22e">linkBox</span>, <span style="color:#e6db74">&#34;img&#34;</span>, <span style="color:#66d9ef">null</span>, <span style="color:#e6db74">&#34;faviconImage&#34;</span>, <span style="color:#e6db74">&#34;&#34;</span>);
    <span style="color:#a6e22e">imgElement</span>.<span style="color:#a6e22e">src</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">imgLink</span>;
    <span style="color:#a6e22e">imgElement</span>.<span style="color:#a6e22e">width</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">16</span>;
    <span style="color:#a6e22e">imgElement</span>.<span style="color:#a6e22e">height</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">16</span>;

    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">linkTitle</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">getParam</span>(<span style="color:#a6e22e">args</span>, <span style="color:#e6db74">&#34;title&#34;</span>, <span style="color:#e6db74">&#39;false&#39;</span>);

    <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">linkTitle</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;false&#39;</span>){
      <span style="color:#a6e22e">linkTitle</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">link</span>;
    }
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">linkElement</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">createTiddlyElement</span>(<span style="color:#a6e22e">linkBox</span>, <span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#66d9ef">null</span>, <span style="color:#e6db74">&#34;faviconLink&#34;</span>, <span style="color:#a6e22e">linkTitle</span>);
    <span style="color:#a6e22e">linkElement</span>.<span style="color:#a6e22e">href</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">link</span>;
    <span style="color:#a6e22e">linkElement</span>.<span style="color:#a6e22e">target</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;_blank&#39;</span>;
  }
}

<span style="color:#75715e">/*} } }*/</span></code></pre></div>
<h4> Установка плагина</h4>
<ol><li>Создаём новый тиддлер, называем его faviconLinkMacro</li>
<li>Помечаем тиддлер тегом systemConfig, тогда TiddlyWiki при открытии страницы его подгрузит.</li>
</ol>
<h4>Использование плагина</h4>
<ol><li>Плагин создаёт новый макрос, faviconLink, с двумя параметрами link и title.</li>
<li>Вызов <tt>&lt;&lt;faviconLink link:'https://mail.google.com/mail' title:'mail'&gt;&gt;</tt> создаёт ссылку с картинкой с GMail</li>
</ol>
<a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://1.bp.blogspot.com/_y8p0_dtMJ38/S6Y0qnki7nI/AAAAAAAAA9A/Ic3skFoirY8/s1600-h/favicon-sample.png"><img style="display:block; margin:0px auto 10px; text-align:center;cursor:pointer; cursor:hand;width: 161px; height: 64px;" src="http://1.bp.blogspot.com/_y8p0_dtMJ38/S6Y0qnki7nI/AAAAAAAAA9A/Ic3skFoirY8/s400/favicon-sample.png" border="0" alt=""id="BLOGGER_PHOTO_ID_5451102305759981170" /></a>

<h4>Настройка визульных стилей плагина</h4>
<p>Макрос создаёт следующие классы:</p>
<ol><li>span.favIcon</li>
<li>img.faviconImage</li>
<li>a.faviconLink</li>
</ol>
<h4> Пример стилей</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css">.<span style="color:#a6e22e">links</span> <span style="color:#f92672">span</span> {
  <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">block</span>;
  <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">relative</span>;
  <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">0.7</span><span style="color:#66d9ef">em</span>;
  <span style="color:#66d9ef">margin</span>: <span style="color:#ae81ff">0.3</span><span style="color:#66d9ef">em</span>;
  <span style="color:#66d9ef">min-width</span>: <span style="color:#ae81ff">6</span><span style="color:#66d9ef">em</span>;
  <span style="color:#66d9ef">float</span>:<span style="color:#66d9ef">left</span>;
  <span style="color:#66d9ef">text-align</span>: <span style="color:#66d9ef">center</span>;
  <span style="color:#66d9ef">font-weight</span>: <span style="color:#66d9ef">bold</span>;
  <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">1.5</span><span style="color:#66d9ef">em</span>;
  <span style="color:#66d9ef">font-family</span>: <span style="color:#e6db74">&#34;Gill Sans MT&#34;</span>, <span style="color:#e6db74">&#34;Candara&#34;</span>, <span style="color:#e6db74">&#34;Arial&#34;</span>;
  <span style="color:#66d9ef">border</span>: <span style="color:#ae81ff">2</span><span style="color:#66d9ef">px</span> <span style="color:#66d9ef">solid</span> [[ColorPalette<span style="color:#f92672">::</span>SecondaryLight]];
  <span style="color:#66d9ef">background-color</span>: [[ColorPalette<span style="color:#f92672">::</span>SecondaryPale]];
}

.<span style="color:#a6e22e">links</span> <span style="color:#f92672">span</span>:<span style="color:#a6e22e">hover</span> {
  <span style="color:#66d9ef">border</span>: <span style="color:#ae81ff">2</span><span style="color:#66d9ef">px</span> <span style="color:#66d9ef">solid</span> [[ColorPalette<span style="color:#f92672">::</span>SecondaryMid]];
  <span style="color:#66d9ef">background-color</span>: [[ColorPalette<span style="color:#f92672">::</span>SecondaryLight]];
  <span style="color:#66d9ef">color</span>: [[ColorPalette<span style="color:#f92672">::</span>PrimaryMid]];
}

.<span style="color:#a6e22e">links</span> <span style="color:#f92672">img</span>.<span style="color:#a6e22e">faviconImage</span> {
  <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">relative</span>;
  <span style="color:#66d9ef">padding-right</span>: <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span>;
}</code></pre></div>
<p><p> Данный CSS необходимо добавить в тиддлер с именем StyleSheet</p>
<h4>Пример тиддлера со ссылками</h4></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">{{links{
<span style="color:#960050;background-color:#1e0010">&lt;</span>&lt;<span style="color:#f92672">faviconLink</span> <span style="color:#a6e22e">link:</span><span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">http:</span><span style="color:#960050;background-color:#1e0010">//</span><span style="color:#a6e22e">delicious</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">com</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">dark</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">schakal</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">2read</span><span style="color:#960050;background-color:#1e0010">&#39;</span> <span style="color:#a6e22e">title:</span><span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">2read</span><span style="color:#960050;background-color:#1e0010">&#39;</span>&gt;&gt; <span style="color:#960050;background-color:#1e0010">&lt;</span>&lt;<span style="color:#f92672">faviconLink</span> <span style="color:#a6e22e">link:</span><span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">https:</span><span style="color:#960050;background-color:#1e0010">//</span><span style="color:#a6e22e">mail</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">google</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">com</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">mail</span><span style="color:#960050;background-color:#1e0010">&#39;</span> <span style="color:#a6e22e">title:</span><span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">mail</span><span style="color:#960050;background-color:#1e0010">&#39;</span>&gt;&gt; <span style="color:#960050;background-color:#1e0010">&lt;</span>&lt;<span style="color:#f92672">faviconLink</span> <span style="color:#a6e22e">link:</span><span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">http:</span><span style="color:#960050;background-color:#1e0010">//</span><span style="color:#a6e22e">www</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">google</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">com</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">reader</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">view</span><span style="color:#960050;background-color:#1e0010">&#39;</span> <span style="color:#a6e22e">title:</span><span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">rss</span><span style="color:#960050;background-color:#1e0010">&#39;</span>&gt;&gt; <span style="color:#960050;background-color:#1e0010">&lt;</span>&lt;<span style="color:#f92672">faviconLink</span> <span style="color:#a6e22e">link:</span><span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">http:</span><span style="color:#960050;background-color:#1e0010">//</span><span style="color:#a6e22e">atamanenko</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">blogspot</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">com</span><span style="color:#960050;background-color:#1e0010">/&#39;</span> <span style="color:#a6e22e">title:</span><span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">blog</span><span style="color:#960050;background-color:#1e0010">&#39;</span>&gt;&gt; <span style="color:#960050;background-color:#1e0010">&lt;</span>&lt;<span style="color:#f92672">faviconLink</span> <span style="color:#a6e22e">link:</span><span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">http:</span><span style="color:#960050;background-color:#1e0010">//</span><span style="color:#a6e22e">feedburner</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">google</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">com</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">fb</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">a</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">myfeeds</span><span style="color:#960050;background-color:#1e0010">&#39;</span> <span style="color:#a6e22e">title:</span><span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">feedburner</span><span style="color:#960050;background-color:#1e0010">&#39;</span>&gt;&gt; <span style="color:#960050;background-color:#1e0010">&lt;</span>&lt;<span style="color:#f92672">faviconLink</span> <span style="color:#a6e22e">link:</span><span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">https:</span><span style="color:#960050;background-color:#1e0010">//</span><span style="color:#a6e22e">www</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">google</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">com</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">analytics</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">settings</span><span style="color:#960050;background-color:#1e0010">/&#39;</span> <span style="color:#a6e22e">title:</span><span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">analytics</span><span style="color:#960050;background-color:#1e0010">&#39;</span>&gt;&gt; <span style="color:#960050;background-color:#1e0010">&lt;</span>&lt;<span style="color:#f92672">faviconLink</span> <span style="color:#a6e22e">link:</span><span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">http:</span><span style="color:#960050;background-color:#1e0010">//</span><span style="color:#a6e22e">wave</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">google</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">com</span><span style="color:#960050;background-color:#1e0010">&#39;</span> <span style="color:#a6e22e">title:</span><span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">wave</span><span style="color:#960050;background-color:#1e0010">&#39;</span>&gt;&gt; <span style="color:#960050;background-color:#1e0010">&lt;</span>&lt;<span style="color:#f92672">faviconLink</span> <span style="color:#a6e22e">link:</span><span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">http:</span><span style="color:#960050;background-color:#1e0010">//</span><span style="color:#a6e22e">www</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">blogger</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">com</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">home</span><span style="color:#960050;background-color:#1e0010">&#39;</span> <span style="color:#a6e22e">title:</span><span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">blogger</span><span style="color:#960050;background-color:#1e0010">&#39;</span>&gt;&gt; <span style="color:#960050;background-color:#1e0010">&lt;</span>&lt;<span style="color:#f92672">faviconLink</span> <span style="color:#a6e22e">link:</span><span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">http:</span><span style="color:#960050;background-color:#1e0010">//</span><span style="color:#a6e22e">twitter</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">com</span><span style="color:#960050;background-color:#1e0010">/&#39;</span> <span style="color:#a6e22e">title:</span><span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">twitter</span><span style="color:#960050;background-color:#1e0010">&#39;</span>&gt;&gt; <span style="color:#960050;background-color:#1e0010">&lt;</span>&lt;<span style="color:#f92672">faviconLink</span> <span style="color:#a6e22e">link:</span><span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">https:</span><span style="color:#960050;background-color:#1e0010">//</span><span style="color:#a6e22e">www</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">dropbox</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">com</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">home</span><span style="color:#960050;background-color:#1e0010">#/&#39;</span> <span style="color:#a6e22e">title:</span><span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">dropbox</span><span style="color:#960050;background-color:#1e0010">&#39;</span>&gt;&gt; <span style="color:#960050;background-color:#1e0010">&lt;</span>&lt;<span style="color:#f92672">faviconLink</span> <span style="color:#a6e22e">link:</span><span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">http:</span><span style="color:#960050;background-color:#1e0010">//</span><span style="color:#a6e22e">translate</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">google</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">com</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">toolkit</span><span style="color:#960050;background-color:#1e0010">/&#39;</span> <span style="color:#a6e22e">title:</span><span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">translator</span><span style="color:#960050;background-color:#1e0010">&#39;</span>&gt;&gt; <span style="color:#960050;background-color:#1e0010">&lt;</span>&lt;<span style="color:#f92672">faviconLink</span> <span style="color:#a6e22e">link:</span><span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">http:</span><span style="color:#960050;background-color:#1e0010">//</span><span style="color:#a6e22e">sibir</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">megafon</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">ru</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">sendsms</span><span style="color:#960050;background-color:#1e0010">/&#39;</span> <span style="color:#a6e22e">title:</span><span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">SendSMS</span><span style="color:#960050;background-color:#1e0010">&#39;</span>&gt;&gt;
}}}</code></pre></div>
<p>Вышеприведённый код тиддлера создаёт следующую страницу:</p>

<p><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://1.bp.blogspot.com/_y8p0_dtMJ38/S6Y0qOLAO4I/AAAAAAAAA84/DFkORdMO8gE/s1600-h/favicon-sample-big.png"><img style="display:block; margin:0px auto 10px; text-align:center;cursor:pointer; cursor:hand;width: 400px; height: 157px;" src="http://1.bp.blogspot.com/_y8p0_dtMJ38/S6Y0qOLAO4I/AAAAAAAAA84/DFkORdMO8gE/s400/favicon-sample-big.png" border="0" alt=""id="BLOGGER_PHOTO_ID_5451102298941963138" /></a></p>

        

    </article>
    
    <article>

        
        

<header>
    <h1 class="entry-title">
        <a href="https://uthark.github.io/2010/03/16/blog-post/">Борьба с убийцами производительности</a>
    </h1>

</header>


        
        <p><strong>Summary</strong>: Мой опыт борьбы с &quot;убийцами производительности&quot;.</p>
<h3>Постановка проблемы</h3>
<p> Иногда бывает так, что хочется отвлечься от работы, от поставленной задачи на какую-нибудь фигню, лишь бы не заниматься текущей задачей. У меня это чаще всего сводилось к тому, что я начинал читать что-нибудь в сети (<a href="http://www.google.com/reader/view/" target="_blank">Google Reader</a>, <a href="http://habrahabr.ru/">Habrahabr</a>, <a href="http://www.linux.org.ru/">LOR</a>, etc). </p>
<p>Истоки проблемы могут быть абсолютно разными, например: </p>
<ol><li>Долгий запуск среды разработки </li>
<li>Долгая сборка проекта</li>
<li>Нудная задача</li>
<li>Неинтересная задача</li>
</ol>
<p>Все эти причины спокойно могут приводить к потере производительности, причём неявным образом, например - &quot;А посижу пока я на хабре, пока полная сборка идёт&quot;, в итоге после 20 минут обнаруживается, что сборка закончилась уже 15 минут назад.</p>
<p>Так как у меня тайм-киллер вполне простой - интернет, то и решение вполне простое.</p>
<p>Вот список действий, что я сделал:</p>
<ol><li>Удалил быстрые браузеры, теперь у меня только <a href="http://www.mozilla.com/firefox">Mozilla Firefox</a> под Linux и страшный <a href="http://www.microsoft.com/windows/ie/ie6/downloads/default.mspx">Internet Explorer 6.0 под Windows</a>.</li>
<li>Забанил сайты которые не нужны для работы, но на которых я провожу много времени.</li>
</ol>
<p>Сначала я сделал радикальный бан - внёс в <tt>/etc/hosts</tt> эти сайты:</p>
<pre class="brush: bash">
127.0.0.1 www.linux.org.ru linux.org.ru
127.0.0.1 www.habrahabr.ru habrahabr.ru
127.0.0.1 www.lorquotes.ru lorquotes.ru
</pre>
<p> Но потом обнаружилось, что есть ещё <a href="http://www.google.com/reader/view/">Google Reader</a>, который также отнимает много времени (у меня было до 200 подписок, что давало до 300 новых статей в сутки). Проблему с <a href="http://www.google.com/reader/view/">Google Reader</a> я решал поэтапно: </p>
<ol><li>Почистил список лент от юмора, который обновляется практически ежедневно, является пожирателем трафика и времени.</li>
<li>После этого я почистил список лент от лент, которые достаточно интересные, но при этом без них можно спокойно обходиться (Например, <a href="http://aseigo.blogspot.com/">блог Аарона Сейго</a>, одного из главных разработчиков <a href="http://www.kde.org/">KDE</a>)</li>
</ol>
<p>Вышеперечисленные действия помогли мне сократить список фидов с 200 сначала до 100 с небольшим, а затем и до 65. Но я понимал, что это ещё не предел и есть к чему стремиться, поэтому решил перейти к использованию оффлайнового <a href="http://www.whatisrss.com/">RSS</a>-<a href="http://en.wikipedia.org/wiki/RSS_Reader">клиента</a>. </p>
<p>Для этого я экспортировал <a href="http://www.opml.org/">OPML</a>-файл с подписками из <a href="http://www.google.com/reader/view/">Google Reader</a>, удалил все ленты (к сожалению, <a href="http://www.google.com/support/forum/p/reader/thread?tid=53c0b347fa8cd843&hl=en">удалить аккаунт</a> на <a href="http://www.google.com/reader/view/">Google Reader</a> невозможно, только полностью Google Account) и импортировал на <a href="http://userbase.kde.org/Akregator">Akregator</a> на домашней машинке. Это помогло мне аккумулировать все чтения ленты новостей в один временной промежуток - вечером, дома.</p>
<p>Но, как оказалось, ещё есть к чему стремиться и гугление на просторах сети дало свои результаты: <a href="http://www.proginosko.com/leechblock.html"><strong>LeechBlock</strong></a>.</p>
<p>LeechBlock это расширение для Mozilla Firefox, которое позволяет блокировать отдельные сайты на различные промежутки времени.</p>
<p>Собственно, начав им пользоваться, я понял, что это именно то, что мне нужно:</p>
<p> <a href="http://picasaweb.google.com/lh/photo/GiOXKIEw3fz0uoNMZxGTlg?authkey=Gv1sRgCOCWw8r8gI-DRQ&feat=embedwebsite"><img src="http://lh6.ggpht.com/_y8p0_dtMJ38/S56FpVJKVHI/AAAAAAAAA8Q/e6hTfBRPkRo/s800/leechblock.png" title="Leechblock Settings UI" alt="Leechblock Settings UI" /></a></p>
<p> Возможности данного расширения следующие: </p>
<ol><li>Блокировка сайтов различные периоды времени</li>
<li>Блокировка сайтов по временному диапазону, в том числе по дням недели.</li>
<li>Поддержка нескольких наборов сайтов для блокировки</li>
<li>Возможность быстрого добавления сайта в список для блокировки </li>
</ol>
<p>Конечно, данное расширение не является панацеей, его нужно использовать в комплексе с другими средствами.</p>

        

    </article>
    
    <article>

        
        

<header>
    <h1 class="entry-title">
        <a href="https://uthark.github.io/2010/02/06/grails/">Список для проверки при оптимизации Grails приложений</a>
    </h1>

</header>


        
        <p>Выкладываю ниже список задач, которые нужно/можно выполнить для оптимизации приложения, написанного на Grails, может кому пригодится.<br />
<h4>Тестирование проведённых оптимизаций </h4>Первым делом необходимо разработать критерии проверки, которые позволят оценить эффективность проведённых оптимизаций.<br />
<ol><li>Установить <a href="http://code.google.com/p/javamelody/">Java Melody</a> <a href="http://www.grails.org/plugin/grails-melody">плагин</a> для Grails для проведения анализа. <br />
</li>
<li>Разработать скрипты для проведения нагрузочного тестирования.<br />
</li>
<li>Прогнать скрипты.<br />
</li>
<li>Проанализировать результаты Java Melody, выявить узкие места, произвести нужные оптимизации.</li>
</ol><h4>Общие оптимизации </h4>Очень часто обновление до последней версии используемых библиотек попутно улучшает производительность.<br />
<ol><li>Обновить Java до последней версии<br />
</li>
<li>Обновить Groovy до последней версии.<br />
</li>
<li>Обновить Grails до последней версии.<br />
</li>
<li>Обновить jQuery до последней версии.<br />
</li>
<li>Оптимизировать настройки виртуальной машины Java (например, -server -Xmx270m -Xms270m -XX:MaxPermSize=80m -Xverify:none -XX:+UseParallelGC -XX:+UseParallelOldGC -XX:+UseAdaptiveSizePolicy -XX:SurvivorRatio=4 -XX:TargetSurvivorRatio=90 -XX:MaxTenuringThreshold=31 -XX:+AggressiveOpts)<br />
a. <a href="http://java.sun.com/javase/technologies/hotspot/gc/gc_tuning_6.html">http://java.sun.com/javase/technologies/hotspot/gc/gc_tuning_6.html</a><br />
Вообще, по оптимизации JVM написаны целые книги, так что не буду здесь останавливаться.<br />
</li>
</ol><h4>Оптимизация клиентской части </h4><ol><li>Настроить <a href="http://tomcat.apache.org/tomcat-5.5-doc/config/context.html">кэширование статических ресурсов</a> в Томкате.<br />
</li>
<li>Настроить <a href="http://tomcat.apache.org/tomcat-5.5-doc/config/http.html">сжатие статических ресурсов</a> в Томкате.<br />
</li>
<li>(поставить прокси на nginx для кэширования статических ресурсов ?)<br />
</li>
<li>Установить плагины для Firebug, которые оценят производительность клиентской части.<br />
<ul><li><a href="http://code.google.com/speed/page-speed">PageSpeed</a> </li>
<li><a href="http://developer.yahoo.com/yslow/">YSlow</a> </li>
</ul></li>
<li>Проанализировать страницы веб-сайта с их помощью<br />
</li>
<li>Провести предлагаемые оптимизации.<br />
</li>
</ol><h4>Оптимизация клиентской части приложений, написанных на Grails </h4><ol><li>Установить плагин <a href="http://www.grails.org/plugin/ui-performance">UI Performance</a><br />
</li>
<li>Провести оптимизацию с использованием плагина UI Performance <br />
</li>
</ol><h4>Оптимизация базы данных </h4><ol><li>Оптимизировать производительность сервера базы данных (SQL Server) <br />
a. <a href="http://www.sql-server-performance.com/tips/all_main.aspx">http://www.sql-server-performance.com/tips/all_main.aspx</a> <br />
a. <a href="http://msdn.microsoft.com/en-us/library/ms998577.aspx">http://msdn.microsoft.com/en-us/library/ms998577.aspx</a><br />
</li>
<li>Проверить наличие индексов в базе данных, добавить необходимые<br />
</li>
<li>Найти неоптимальные запросы в БД, оптимизировать</li>
</ol><h4>Оптимизация работы с базой данных </h4><ol><li>Обновить версию JDBC-драйвера<br />
</li>
<li>Настроить кэширование в Hibernate.<br />
Ресурсов в сети предостаточно, навскидку <a href="http://docs.jboss.org/hibernate/core/3.3/reference/en/html/performance.html">вот</a> <a href="http://www.devx.com/dbzone/Article/29685/1954"> парочка</a>.<br />
</li>
</ol><h4>Оптимизация серверной части приложения </h4><ol><li>Произвести профилирование приложения (использовать Visual VM, YJP Profiler), найти узкие места и оптимизировать их.</li>
</ol><h4>Оптимизация серверной части приложения (опционально) </h4><ol><li>Установить плагин <a href="http://www.grails.org/plugin/perf4j">Perf4J</a> для грэйлза <br />
</li>
<li>Добавить необходимые счётчики в код<br />
</li>
<li>Прогнать нагрузочные тесты, найти узкие места, оптимизировать.</li>
</ol><h4>Заключение</h4>В целом, в данном списке нет ничего нового, это всего лишь компиляция публично доступных материалов. Тем не менее, решил это опубликовать, чтобы сэкономить время другим.</p>

        

    </article>
    
    
    




<div class="pagination">

    
        
        
        
        <a href="/" aria-label="First" class="label-pagination"><i class="fa fa-angle-double-left fa-lg"></i></a>
    

    
    
        <a href="/page/17/" aria-label="Previous" class="label-pagination"><i class="fa fa-angle-left fa-lg"></i></a>
    

    
        <a href="/" class="label-pagination">1</a>
    
        <a href="/page/2/" class="label-pagination">2</a>
    
        <a href="/page/3/" class="label-pagination">3</a>
    
        <a href="/page/4/" class="label-pagination">4</a>
    
        <a href="/page/5/" class="label-pagination">5</a>
    
        <a href="/page/6/" class="label-pagination">6</a>
    
        <a href="/page/7/" class="label-pagination">7</a>
    
        <a href="/page/8/" class="label-pagination">8</a>
    
        <a href="/page/9/" class="label-pagination">9</a>
    
        <a href="/page/10/" class="label-pagination">10</a>
    
        <a href="/page/11/" class="label-pagination">11</a>
    
        <a href="/page/12/" class="label-pagination">12</a>
    
        <a href="/page/13/" class="label-pagination">13</a>
    
        <a href="/page/14/" class="label-pagination">14</a>
    
        <a href="/page/15/" class="label-pagination">15</a>
    
        <a href="/page/16/" class="label-pagination">16</a>
    
        <a href="/page/17/" class="label-pagination">17</a>
    
        <a href="/page/18/" class="label-pagination">18</a>
    
        <a href="/page/19/" class="label-pagination">19</a>
    
        <a href="/page/20/" class="label-pagination">20</a>
    
        <a href="/page/21/" class="label-pagination">21</a>
    
        <a href="/page/22/" class="label-pagination">22</a>
    
        <a href="/page/23/" class="label-pagination">23</a>
    
        <a href="/page/24/" class="label-pagination">24</a>
    
        <a href="/page/25/" class="label-pagination">25</a>
    
        <a href="/page/26/" class="label-pagination">26</a>
    

    
    
        <a href="/page/19/" aria-label="Next" class="label-pagination"><i class="fa fa-angle-right fa-lg"></i></a>
    

    
    
        <a href="/page/26/" aria-label="Last"><i class="fa fa-angle-double-right fa-lg"></i></a>
    

</div>

  

  </div>

  

<aside class="sidebar thirds">
  <section class="first odd">

    

    <p>
      
    </p>
  </section>





  

  

  
  
  

</aside>
    
 </div>
</div>

<footer role="contentinfo">
    
    <div class="center">
        <ul class="sidebar-nav">
            <li class="sidebar-nav-item">
                <a target="_blank" href="https://github.com/uthark/" title="https://github.com/uthark/"><i
                    class="fa fa-github fa-3x"></i></a></li>
            <li class="sidebar-nav-item">    <a target="_blank" href="https://bitbucket.org/uthark/" title="https://bitbucket.org/uthark/"><i
                    class="fa fa-bitbucket fa-3x"></i></a>
            <li class="sidebar-nav-item">
            <li class="sidebar-nav-item"><a target="_blank" href="https://twitter.com/LinkageError/" title="https://twitter.com/LinkageError/"><i
                    class="fa fa-twitter fa-3x"></i></a>
            <li class="sidebar-nav-item"><a target="_blank" href="https://keybase.io/uthark/" title="https://keybase.io/uthark/"><i
                    class="fa fa-key fa-3x"></i></a> 
            <li class="sidebar-nav-item">
            <li class="sidebar-nav-item"><a target="_blank" href="http://stackoverflow.com/users/216764/uthark" title="http://stackoverflow.com/users/216764/uthark"><i
                    class="fa fa-stack-overflow fa-3x"></i></a>
            <li class="sidebar-nav-item"><a target="_blank" href="https://plus.google.com/&#43;OlegAtamanenko" title="https://plus.google.com/&#43;OlegAtamanenko"><i
                    class="fa fa-google-plus fa-3x"></i></a>
            <li class="sidebar-nav-item">
            <li class="sidebar-nav-item">
            <li class="sidebar-nav-item">
                
                
            </li>
        </ul>
    </div>
    <p>Copyright &copy; 2017 Oleg Atamanenko - <a href="https://uthark.github.io/license/">License</a> -
        <span class="credit">Powered by <a target="_blank" href="https://gohugo.io">Hugo</a> and
            <a target="_blank" href="https://github.com/parsiya/hugo-octopress/">Hugo-Octopress</a> theme.
    </p>

</footer>


</body>
</html>
   

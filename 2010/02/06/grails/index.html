<!doctype html><html prefix="og: https://ogp.me/ns#" lang=en><head><meta charset=utf-8><link rel=canonical href=https://uthark.github.io/2010/02/06/grails/><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,minimum-scale=1,maximum-scale=5"><title>Список для проверки при оптимизации Grails приложений</title><meta name=description content><meta name=keywords content><meta name=author content="Oleg Atamanenko"><link rel=stylesheet media=screen href="https://fonts.googleapis.com/css2?family=Lora:wght@500&family=Source+Code+Pro:wght@300&family=Bitter&display=swap" type=text/css><link rel=stylesheet href=https://uthark.github.io/css/theme.e2ab29fcebb06aaf6e0d5f5685d4c3f28ae29e6bdab99de41ced527d1770a0f6.css><link rel=stylesheet href=https://uthark.github.io/css/uthark.css><link rel=stylesheet href=//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css><link href=https://uthark.github.io/favicon.png rel=icon><link href=https://feeds.feedburner.com/atamanenko rel=alternate type=application/rss+xml title="Sharing knowledge"><meta name=twitter:card content="summary"><meta name=twitter:site content="@real_atamanenko"><meta name=twitter:creator content="@real_atamanenko"><meta name=twitter:title content="Список для проверки при оптимизации Grails приложений"><meta property="og:title" content="Список для проверки при оптимизации Grails приложений"><meta property="og:url" content="https://uthark.github.io/2010/02/06/grails/"><meta property="og:description" content="Выкладываю ниже список задач, которые нужно/можно выполнить для оптимизации приложения, написанного на Grails, может кому пригодится.
Тестирование проведённых оптимизаций Первым делом необходимо разработать критерии проверки, которые позволят оценить эффективность проведённых оптимизаций.
 Установить Java Melody плагин для Grails для проведения анализа."></head><body><header class=site><h1><a href=https://uthark.github.io/>Sharing knowledge</a></h1><h2>by Oleg Atamanenko</h2></header><nav><div class=menu><input type=checkbox id=menu class="fa fa-bars">
<label for=menu aria-label=Menu></label><div class=menu-container><ul class=main-navigation><li><a href=https://uthark.github.io/ title=Posts>Posts</a></li><li><a href=https://uthark.github.io/usefularticles/ title=Links>Links</a></li><li><a href=https://uthark.github.io/categories/ title=Categories>Categories</a></li><li><a href=https://uthark.github.io/readinglist/ title="Reading Lists">Reading Lists</a></li><li><a href=https://uthark.github.io/about/ title=About>About</a></li></ul><ul class=subscription><li><a href=https://feeds.feedburner.com/atamanenko target=_blank type=application/rss+xml title=RSS><i class="fa fa-rss-square fa-lg"></i></a></li></ul><form action=https://www.google.com/search method=get target=_blank><fieldset role=search><input class=search type=text name=q placeholder=Search>
<input type=hidden name=q value=site:https://uthark.github.io/></fieldset></form></div></div></nav><div id=main><div id=content><div><article class=hentry><header><h1 class=entry-title>Список для проверки при оптимизации Grails приложений</h1></header><div class=entry-content><p>Выкладываю ниже список задач, которые нужно/можно выполнить для оптимизации приложения, написанного на Grails, может кому пригодится.</p><h4 id=тестирование-проведённых-оптимизаций>Тестирование проведённых оптимизаций</h4><p>Первым делом необходимо разработать критерии проверки, которые позволят оценить эффективность проведённых оптимизаций.</p><ol><li>Установить <a href=http://code.google.com/p/javamelody/>Java Melody</a> <a href=http://www.grails.org/plugin/grails-melody>плагин</a> для Grails для проведения анализа.</li><li>Разработать скрипты для проведения нагрузочного тестирования.</li><li>Прогнать скрипты.</li><li>Проанализировать результаты Java Melody, выявить узкие места, произвести нужные оптимизации.</li></ol><h4 id=общие-оптимизации>Общие оптимизации</h4><p>Очень часто обновление до последней версии используемых библиотек попутно улучшает производительность.</p><ol><li>Обновить Java до последней версии</li><li>Обновить Groovy до последней версии.</li><li>Обновить Grails до последней версии.</li><li>Обновить jQuery до последней версии.</li><li>Оптимизировать настройки виртуальной машины Java (например, -server -Xmx270m -Xms270m -XX:MaxPermSize=80m -Xverify:none -XX:+UseParallelGC -XX:+UseParallelOldGC -XX:+UseAdaptiveSizePolicy -XX:SurvivorRatio=4 -XX:TargetSurvivorRatio=90 -XX:MaxTenuringThreshold=31 -XX:+AggressiveOpts)
a. <a href=http://java.sun.com/javase/technologies/hotspot/gc/gc_tuning_6.html>http://java.sun.com/javase/technologies/hotspot/gc/gc_tuning_6.html</a>
Вообще, по оптимизации JVM написаны целые книги, так что не буду здесь останавливаться.</li></ol><h4 id=оптимизация-клиентской-части>Оптимизация клиентской части</h4><ol><li>Настроить <a href=http://tomcat.apache.org/tomcat-5.5-doc/config/context.html>кэширование статических ресурсов</a> в Томкате.</li><li>Настроить <a href=http://tomcat.apache.org/tomcat-5.5-doc/config/http.html>сжатие статических ресурсов</a> в Томкате.</li><li>(поставить прокси на nginx для кэширования статических ресурсов ?)</li><li>Установить плагины для Firebug, которые оценят производительность клиентской части.<ol><li><a href=http://code.google.com/speed/page-speed>PageSpeed</a></li></li><li><a href=http://developer.yahoo.com/yslow/>YSlow</a></li></li><li>Проанализировать страницы веб-сайта с их помощью</li></ol></li><li>Провести предлагаемые оптимизации.</li></ol><h4 id=оптимизация-клиентской-части-приложений-написанных-на-grails>Оптимизация клиентской части приложений, написанных на Grails</h4><ol><li>Установить плагин <a href=http://www.grails.org/plugin/ui-performance>UI Performance</a></li><li>Провести оптимизацию с использованием плагина UI Performance</li></ol><h4 id=оптимизация-базы-данных>Оптимизация базы данных</h4><ol><li>Оптимизировать производительность сервера базы данных (SQL Server)
a. <a href=http://www.sql-server-performance.com/tips/all_main.aspx>http://www.sql-server-performance.com/tips/all_main.aspx</a>
a. <a href=http://msdn.microsoft.com/en-us/library/ms998577.aspx>http://msdn.microsoft.com/en-us/library/ms998577.aspx</a></li><li>Проверить наличие индексов в базе данных, добавить необходимые</li><li>Найти неоптимальные запросы в БД, оптимизировать</li></ol><h4 id=оптимизация-работы-с-базой-данных>Оптимизация работы с базой данных</h4><ol><li>Обновить версию JDBC-драйвера</li><li>Настроить кэширование в Hibernate.
Ресурсов в сети предостаточно, навскидку <a href=http://docs.jboss.org/hibernate/core/3.3/reference/en/html/performance.html>вот</a> <a href=http://www.devx.com/dbzone/Article/29685/1954>парочка</a>.</li></ol><h4 id=оптимизация-серверной-части-приложения>Оптимизация серверной части приложения</h4><ol><li>Произвести профилирование приложения (использовать Visual VM, YJP Profiler), найти узкие места и оптимизировать их.</li></ol><h4 id=оптимизация-серверной-части-приложения-опционально>Оптимизация серверной части приложения (опционально)</h4><ol><li>Установить плагин <a href=http://www.grails.org/plugin/perf4j>Perf4J</a> для грэйлза</li><li>Добавить необходимые счётчики в код</li><li>Прогнать нагрузочные тесты, найти узкие места, оптимизировать.</li></ol><h4 id=заключение>Заключение</h4><p>В целом, в данном списке нет ничего нового, это всего лишь компиляция публично доступных материалов. Тем не менее, решил это опубликовать, чтобы сэкономить время другим.</p></div><footer><div class=sharing>Share:
<a href="https://getpocket.com/save?url=https%3a%2f%2futhark.github.io%2f2010%2f02%2f06%2fgrails%2f" target=_blank><i class="fa fa-get-pocket" title="Save to Pocket" aria-hidden=true></i></a><a href="https://twitter.com/intent/tweet?text=%d0%a1%d0%bf%d0%b8%d1%81%d0%be%d0%ba%20%d0%b4%d0%bb%d1%8f%20%d0%bf%d1%80%d0%be%d0%b2%d0%b5%d1%80%d0%ba%d0%b8%20%d0%bf%d1%80%d0%b8%20%d0%be%d0%bf%d1%82%d0%b8%d0%bc%d0%b8%d0%b7%d0%b0%d1%86%d0%b8%d0%b8%20Grails%20%d0%bf%d1%80%d0%b8%d0%bb%d0%be%d0%b6%d0%b5%d0%bd%d0%b8%d0%b9&url=https%3a%2f%2futhark.github.io%2f2010%2f02%2f06%2fgrails%2f" target=_blank title="Post to Twitter" aria-hidden=true><i class="fa fa-twitter"></i></a></div><div><hr><p>If you have any questions, feel free to ping me on Twitter.</p></div><p class=meta>Estimated reading time: 2 minute(s)</p><p class=meta>Last update: <time datetime=2010-02-06>Feb 6, 2010</time></p><p class=meta>Categories: <a class=label href=https://uthark.github.io/categories/article/>#article</a><a class=label href=https://uthark.github.io/categories/%d0%bf%d1%80%d0%be%d0%b8%d0%b7%d0%b2%d0%be%d0%b4%d0%b8%d1%82%d0%b5%d0%bb%d1%8c%d0%bd%d0%be%d1%81%d1%82%d1%8c/>#производительность</a><a class=label href=https://uthark.github.io/categories/java/>#java</a><a class=label href=https://uthark.github.io/categories/performance-optimization/>#performance optimization</a><a class=label href=https://uthark.github.io/categories/%d0%b1%d0%b0%d0%b7%d0%b0-%d0%b4%d0%b0%d0%bd%d0%bd%d1%8b%d1%85/>#база данных</a><a class=label href=https://uthark.github.io/categories/grails/>#grails</a><a class=label href=https://uthark.github.io/categories/groovy/>#groovy</a><a class=label href=https://uthark.github.io/categories/development/>#development</a></p></p><p class=meta><a class="basic-alignment left" href=https://uthark.github.io/2010/02/05/blog-post/ title="Вложенные транзакции в базах данных">&lt;&lt;&nbsp;Вложенные транзакции в базах данных</a>
<a class="basic-alignment right" href=https://uthark.github.io/2010/03/16/blog-post/ title="Борьба с убийцами производительности">Борьба с убийцами производительности&nbsp;>></a></p><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"uthark"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></footer></article></div><aside class="sidebar thirds"><section class="first odd"><p></p></section><section class=even><div class=toc-header>Table of Contents</div><nav id=TableOfContents><ul><li><ul><li></li></ul></li></ul></nav></section></aside></div></div><footer><div class=center><ul class=sidebar-nav><li class=sidebar-nav-item><a target=_blank href=https://github.com/uthark/ title=https://github.com/uthark/><i class="fa fa-github fa-2x"></i></a></li><li class=sidebar-nav-item><a target=_blank href=https://bitbucket.org/uthark/ title=https://bitbucket.org/uthark/><i class="fa fa-bitbucket fa-2x"></i></a><li class=sidebar-nav-item><a target=_blank href=https://twitter.com/real_atamanenko title=https://twitter.com/real_atamanenko><i class="fa fa-twitter fa-2x"></i></a><li class=sidebar-nav-item><a target=_blank href=https://keybase.io/uthark/ title=https://keybase.io/uthark/><i class="fa fa-key fa-2x"></i></a><li class=sidebar-nav-item><a target=_blank href=http://stackoverflow.com/users/216764/uthark title=http://stackoverflow.com/users/216764/uthark><i class="fa fa-stack-overflow fa-2x"></i></a></li><li><a href=https://feeds.feedburner.com/atamanenko target=_blank type=application/rss+xml title=RSS><i class="fa fa-rss-square fa-2x"></i></a></li></ul></div><p>&copy;&nbsp;2009&nbsp;—&nbsp;2021 Oleg Atamanenko - <a href=https://uthark.github.io/license/>CC&nbsp;BY-SA&nbsp;4.0</a></p></footer><script>var _gaq=[['_setAccount','UA-8688665-1'],['_trackPageview']];(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];s.async='async'
g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';s.parentNode.insertBefore(g,s)}(document,'script'));</script></body></html>